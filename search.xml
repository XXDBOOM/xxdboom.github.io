<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>maxDepth</title>
      <link href="/2025/12/25/maxDepth/"/>
      <url>/2025/12/25/maxDepth/</url>
      
        <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ root ï¼Œè¿”å›å…¶æœ€å¤§æ·±åº¦ã€‚</p><p>äºŒå‰æ ‘çš„ æœ€å¤§æ·±åº¦ æ˜¯æŒ‡ä»æ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°ã€‚</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¡ç®—äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</span></span><br><span class="line"><span class="comment">     * æœ€å¤§æ·±åº¦æ˜¯ä»æ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> root äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDepth</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// é€’å½’è®¡ç®—å·¦å­æ ‘å’Œå³å­æ ‘çš„æœ€å¤§æ·±åº¦</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">leftHeight</span> <span class="operator">=</span> maxDepth(root.left);</span><br><span class="line">            <span class="type">int</span> <span class="variable">rightHeight</span> <span class="operator">=</span> maxDepth(root.right);</span><br><span class="line">            <span class="comment">// è¿”å›å·¦å³å­æ ‘ä¸­è¾ƒå¤§çš„æ·±åº¦å€¼åŠ 1ï¼ˆå½“å‰èŠ‚ç‚¹ï¼‰</span></span><br><span class="line">            <span class="keyword">return</span> Math.max(leftHeight, rightHeight) + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ğŸ˜‚</p><p><img src="/../img/bored.jpg"></p>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>20230203_lost requst in asyn</title>
      <link href="/2023/02/03/20230203-lost-requst-in-asyn/"/>
      <url>/2023/02/03/20230203-lost-requst-in-asyn/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>springbooté¡¹ç›®é›†æˆswaggerçš„å®ç°</title>
      <link href="/2022/11/21/221121spring/"/>
      <url>/2022/11/21/221121spring/</url>
      
        <content type="html"><![CDATA[<p>è¿™å‡ æ—¥åœ¨é¡¹ç›®ä¸­ï¼Œè€æ˜¯çœ‹åˆ°çœ‹åˆ°è®¸å¤šswaggeræ³¨è§£ï¼Œè®¸å¤šåªèƒ½äº†è§£å„å¤§æ¦‚ï¼ŒæŠ±ç€å¾—è¿‡ä¸”è¿‡çš„æ€åº¦ç”¨ç”¨å°±è¡Œäº†ã€‚ç›´åˆ°è‡ªå·±åœ¨æ„å»ºé¡¹ç›®æ—¶ï¼Œå‘ç°å•çº¯çš„æ·»åŠ ä¾èµ–ä¼šæŠ¥ç©ºæŒ‡é’ˆé”™è¯¯ã€‚</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Failed to start bean &#x27;documentationPluginsBootstrapper&#x27;; nested exception is java.lang.NullPointerException</span><br></pre></td></tr></table></figure><p>ä¸€ç•ªç™¾åº¦åå‘ç°ï¼ŒSpringfoxå‡è®¾MVCçš„è·¯å¾„åŒ¹é…æ”¿ç­–æ˜¯<code>ant-path-matcher</code>,è€Œ Spring Boot 2.6.xç‰ˆæœ¬çš„é»˜è®¤åŒ¹é…ç­–ç•¥æ˜¯ <code>path-pattern-matcher</code>ï¼Œè¿™å°±é€ æˆäº†ä¸Šé¢çš„æŠ¥é”™ã€‚</p><h2 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="é…ç½®æ³¨è§£"><a href="#é…ç½®æ³¨è§£" class="headerlink" title="é…ç½®æ³¨è§£"></a>é…ç½®æ³¨è§£</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger2</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SwaggerConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Docket <span class="title function_">docket</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">ApiInfo</span> <span class="variable">apiInfo</span> <span class="operator">=</span></span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">                        .title(<span class="string">&quot;5101Clubæ—¥å¸¸ç®¡ç†ç³»ç»ŸAPIâ€”â€”Gateway&quot;</span>)</span><br><span class="line">                        .description(<span class="string">&quot;ç®¡ç†ç³»ç»Ÿé‡‡ç”¨SpringBootå¼€å‘ï¼ŒAPIæ–‡æ¡£é›†æˆSwagger&quot;</span>)</span><br><span class="line">                        .version(<span class="string">&quot;1.0&quot;</span>)</span><br><span class="line">                        .contact(<span class="keyword">new</span> <span class="title class_">Contact</span>(<span class="string">&quot;slipperySoap&quot;</span>, <span class="string">&quot;https://github.com/XXDBOOM&quot;</span>, <span class="string">&quot;xxdboom@outlook.com&quot;</span>))</span><br><span class="line">                        .license(<span class="string">&quot;Apache 2.0&quot;</span>)</span><br><span class="line">                        .licenseUrl(<span class="string">&quot;http://www.apache.org/licenses/LICENSE-2.0&quot;</span>)</span><br><span class="line">                        .build();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2)</span><br><span class="line">                .apiInfo(apiInfo)</span><br><span class="line">                .select()</span><br><span class="line">                <span class="comment">// é…ç½®swaggeræ˜¾ç¤ºçš„controllerï¼Œå¦‚æœä¸é…ç½®åˆ™é»˜è®¤æ‰«ææ‰€æœ‰åç«¯æ¥å£</span></span><br><span class="line">                .apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;com.xxd.testdemo.controller&quot;</span>))</span><br><span class="line">                .paths(PathSelectors.any())</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h2><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">mvc:</span></span><br><span class="line">    <span class="attr">pathmatch:</span></span><br><span class="line">      <span class="attr">matching-strategy:</span> <span class="string">ant_path_matcher</span></span><br></pre></td></tr></table></figure><h2 id="è¿è¡Œæµ‹è¯•"><a href="#è¿è¡Œæµ‹è¯•" class="headerlink" title="è¿è¡Œæµ‹è¯•"></a>è¿è¡Œæµ‹è¯•</h2><div><p><img src="https://gitee.com/xxdboom/images/raw/master/blog/20221121200603.png" alt="result"></p></div>]]></content>
      
      
      
        <tags>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€šè¿‡Feignè°ƒç”¨å¤–ç½‘HTTPï¼Œè®¾ç½®è¯·æ±‚å¤´ï¼Œç†”æ–­å™¨</title>
      <link href="/2022/11/14/221114cloud/"/>
      <url>/2022/11/14/221114cloud/</url>
      
        <content type="html"><![CDATA[<p>åœ¨è®¸å¤šé¡¹ç›®ä¸­ï¼Œå¾€å¾€éœ€è¦å’Œå…¶ä»–å‚å•†çš„é¡¹ç›®è¿›è¡Œå¯¹æ¥ã€‚è¿™å°±ä¸å¾—ä¸è®¿é—®å¤–éƒ¨urlæ¥å£ã€‚ç½‘ä¸Šçš„å„ç§æ–¹æ¡ˆå±‚å‡ºä¸ç©·ï¼Œä½†æˆ‘ä¸å¤ªå–œæ¬¢é¢å¤–æ·»åŠ mavenä¾èµ–ï¼Œæ‰€ä»¥ä½¿ç”¨å·²æœ‰çš„feignå®ç°ã€‚</p><p>ç”±äºä¸ªäººä¹ æƒ¯ï¼Œæˆ‘çš„spring-bootç‰ˆæœ¬æ˜¯2.6.7ã€‚è¿™å¯¼è‡´äº†æˆ‘æ·»åŠ openfeignä¾èµ–æ—¶æ€»æ˜¯æŠ¥é”™ï¼Œå› ä¸ºç½‘ç»œä¸Šçš„æ•™ç¨‹å¾€å¾€æ˜¯ä½¿ç”¨äº†Hoxton.SR8ç‰ˆæœ¬çš„spring-cloudï¼Œå®ƒçš„ç»‘å®šä¾èµ–openfeignæ˜¯2.2.5.RELEASEã€‚</p><p>ç‰ˆæœ¬å…¼å®¹çš„é—®é¢˜å¾€å¾€æœ€éš¾ä¸ºæ–°æ‰‹ã€‚</p><ol><li><p>æ·»åŠ Mavenä¾èµ–</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-openfeign<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-loadbalancer<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-hystrix<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.9.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨å¯åŠ¨ç±»æ·»åŠ æ³¨è§£</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@EnableFeignClients</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨é…ç½®æ–‡ä»¶ä¸­æ‰“å¼€ç†”æ–­å™¨</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">feign.circuitbreaker.enabled</span>=<span class="string">true</span></span><br></pre></td></tr></table></figure></li><li><p>ç¼–å†™Feignæ¥å£</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@FeignClient(url = &quot;http://aliyun.test.com&quot;, name = &quot;test&quot;, fallback = OutFeignImpl.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OutFeign</span> &#123;</span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/test&quot;, headers = &#123;&quot;session_id=1001&quot;&#125;,produces = &#123;&quot;application/json&quot;&#125;)</span></span><br><span class="line">    Object <span class="title function_">getInfo</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><p>åœ¨@FeignClientä¸­ï¼ŒurlæŒ‡å®šå¤–éƒ¨httpè¯·æ±‚ï¼Œnameæˆ–valueä¸ºæ³¨è§£å¿…å†™å‚æ•°ï¼Œfallbackåˆ™æ˜¯ç†”æ–­å™¨æŒ‡å®šå®ç°ç±»ã€‚</p></li><li><p>@GetMappingä¸­ï¼Œheaderså¯ä»¥è®¾ç½®è¯·æ±‚å¤´ï¼Œå› ä¸åŒäºå¤§éƒ¨åˆ†åšå®¢ä¸Šçš„ç‰ˆæœ¬ï¼Œæ‰€ä»¥headersä¸­çš„å‚æ•°ç”¨ç­‰äºå·ç›¸è¿ã€‚</p></li></ol></li><li><p>ç¼–å†™ç†”æ–­å™¨å®ç°ç±»</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OutFeignImpl</span> <span class="keyword">implements</span> <span class="title class_">OutFeign</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;---è§¦å‘ç†”æ–­---&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>è‡³æ­¤ï¼Œä¾¿å¯ä»¥åœ¨é¡¹ç›®ä¸­è°ƒç”¨å¤–éƒ¨urläº†ã€‚</p><p>å‚è€ƒï¼š<a href="https://www.jb51.net/article/215784.htm">ä½¿ç”¨feignæœåŠ¡è°ƒç”¨æ·»åŠ Headerå‚æ•°_java_è„šæœ¬ä¹‹å®¶ (jb51.net)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> openfeign </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Copy &#39;xxx&#39; to effectively final temp variable é—®é¢˜è§£å†³</title>
      <link href="/2022/11/02/221102java/"/>
      <url>/2022/11/02/221102java/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©åœ¨é¡¹ç›®ä¸­ä¿®æ”¹æ¥å£çš„æ—¶å€™çªç„¶å‘ç°äº†ç±»å‹é—®é¢˜ï¼Œä¾¿ç”¨ifå‡½æ•°å¯¹å˜é‡è¿›è¡Œäº†ç±»å‹çš„æ ¡éªŒã€‚</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (params.get(<span class="string">&quot;a&quot;</span>) <span class="keyword">instanceof</span> Integer) &#123;</span><br><span class="line">   a = (<span class="type">int</span>) params.get(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">   a = Integer.parseInt(params.get(<span class="string">&quot;a&quot;</span>).toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ²¡æœ‰å¤šæƒ³ï¼Œä¾¿è¿›è¡Œäº†æäº¤ï¼Œç¼–è¯‘åå‘ç°ç«Ÿç„¶æŠ¥é”™äº†ã€‚ç­›æŸ¥åå‘ç°ï¼Œåœ¨è¿™å—ä»£ç ä¸‹æœ‰ä¸€å¤„åŒ¿åå†…éƒ¨ç±»è°ƒç”¨äº†è¯¥å˜é‡ã€‚</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">finalA</span> <span class="operator">=</span> a;</span><br><span class="line"><span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;thread a = &quot;</span> + finalA);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å‡ºé”™çš„åŸå› æ˜¯ï¼šå†…éƒ¨ç±»å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä¼šè¶…è¿‡å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸã€‚</p><p>æ‰€ä»¥åœ¨åŒ¿åå†…éƒ¨ç±»ä¸­ï¼Œåªèƒ½è°ƒç”¨è¢«finalä¿®é¥°çš„å±€éƒ¨å˜é‡ï¼Œè€Œåœ¨java 8ä¸­ï¼Œå¦‚æœå±€éƒ¨å˜é‡è¢«åŒ¿åå†…éƒ¨ç±»è®¿é—®ï¼Œé‚£ä¹ˆè¯¥å˜é‡ä¼šè‡ªåŠ¨è¢«finaléšæ€§ä¿®é¥°ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
